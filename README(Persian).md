# ğŸš€ WebSocket Template - React + FastAPI

<div align="center">

![WebSocket](https://img.shields.io/badge/WebSocket-Real--time-blue?style=for-the-badge&logo=socketdotio)
![React](https://img.shields.io/badge/React-18+-61DAFB?style=for-the-badge&logo=react)
![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-009688?style=for-the-badge&logo=fastapi)
![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)

**Ù‚Ø§Ù„Ø¨ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Real-Time Ø¨ÛŒÙ† React Ùˆ FastAPI**

[Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ù…Ùˆ](#-Ù†ØµØ¨-Ùˆ-Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ) â€¢ [Ù…Ø³ØªÙ†Ø¯Ø§Øª](#-Ù…Ø³ØªÙ†Ø¯Ø§Øª-ÙÙ†ÛŒ) â€¢ [Ù…Ø´Ø§Ø±Ú©Øª](#-Ù…Ø´Ø§Ø±Ú©Øª-Ø¯Ø±-Ù¾Ø±ÙˆÚ˜Ù‡) â€¢ [Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ](#-Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ)

</div>

---

## ğŸ“š ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

- [Ø¯Ø±Ø¨Ø§Ø±Ù‡ WebSocket](#-Ø¯Ø±Ø¨Ø§Ø±Ù‡-websocket)
- [ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#-ÙˆÛŒÚ˜Ú¯ÛŒÙ‡Ø§ÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)
- [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…](#-Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø³ÛŒØ³ØªÙ…)
- [Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ](#-Ù†ØµØ¨-Ùˆ-Ø±Ø§Ù‡Ø§Ù†Ø¯Ø§Ø²ÛŒ)
- [Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡](#-Ø³Ø§Ø®ØªØ§Ø±-Ù¾Ø±ÙˆÚ˜Ù‡)
- [Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙÙ†ÛŒ](#-Ù…Ø³ØªÙ†Ø¯Ø§Øª-ÙÙ†ÛŒ)
- [Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø¯Ù‡Ø§](#-Ù†Ù…ÙˆÙ†Ù‡-Ú©Ø¯Ù‡Ø§)
- [Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ](#-Ø¹ÛŒØ¨ÛŒØ§Ø¨ÛŒ)
- [Roadmap](#-roadmap)
- [Ù…Ø´Ø§Ø±Ú©Øª Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡](#-Ù…Ø´Ø§Ø±Ú©Øª-Ø¯Ø±-Ù¾Ø±ÙˆÚ˜Ù‡)
- [Ù„Ø§ÛŒØ³Ù†Ø³](#-Ù„Ø§ÛŒØ³Ù†Ø³)

---

## ğŸŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ WebSocket

### WebSocket Ú†ÛŒØ³ØªØŸ

**WebSocket** ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ø¯ÙˆØ·Ø±ÙÙ‡ (bidirectional) Ø§Ø³Øª Ú©Ù‡ Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· **Real-Time** Ø¨ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª (Ù…Ø±ÙˆØ±Ú¯Ø±) Ùˆ Ø³Ø±ÙˆØ± Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

#### ØªÙØ§ÙˆØª Ø¨Ø§ HTTP Ù…Ø¹Ù…ÙˆÙ„ÛŒ:

| ÙˆÛŒÚ˜Ú¯ÛŒ | HTTP | WebSocket |
|-------|------|-----------|
| **Ù†ÙˆØ¹ Ø§Ø±ØªØ¨Ø§Ø·** | ÛŒÚ©â€ŒØ·Ø±ÙÙ‡ (Request-Response) | Ø¯ÙˆØ·Ø±ÙÙ‡ (Full-Duplex) |
| **Ø§ØªØµØ§Ù„** | Ù‡Ø± Ø¨Ø§Ø± Ø¨Ø§Ø² Ùˆ Ø¨Ø³ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ | ÛŒÚ©â€ŒØ¨Ø§Ø± Ø¨Ø§Ø² Ùˆ Ù‡Ù…ÛŒØ´Ù‡ ÙØ¹Ø§Ù„ |
| **ØªØ£Ø®ÛŒØ±** | Ø¨Ø§Ù„Ø§ (Ù‡Ø± Ø¨Ø§Ø± handshake) | Ù¾Ø§ÛŒÛŒÙ† (Ø¨Ø¯ÙˆÙ† overhead) |
| **Ù…ØµØ±Ù Ù…Ù†Ø§Ø¨Ø¹** | Ø¨Ø§Ù„Ø§ | Ú©Ù… |
| **Ú©Ø§Ø±Ø¨Ø±Ø¯** | ØµÙØ­Ø§Øª Ø§Ø³ØªØ§ØªÛŒÚ©ØŒ API | Ú†ØªØŒ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†ØŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† |

### Ú†Ø±Ø§ WebSocketØŸ

```
âŒ HTTP Polling (Ø±ÙˆØ´ Ù‚Ø¯ÛŒÙ…ÛŒ):
Client â†’ Request â†’ Server
Client â†’ Request â†’ Server  (Ù‡Ø± 2 Ø«Ø§Ù†ÛŒÙ‡!)
Client â†’ Request â†’ Server
â””â”€> Ù‡Ø¯Ø± Ø±ÙØª Ù…Ù†Ø§Ø¨Ø¹ Ùˆ ØªØ£Ø®ÛŒØ± Ø¨Ø§Ù„Ø§

âœ… WebSocket (Ø±ÙˆØ´ Ù…Ø¯Ø±Ù†):
Client âŸ· Server (Ø§ØªØµØ§Ù„ Ø¯Ø§Ø¦Ù…ÛŒ)
  â†‘        â†“
  Ø¯ÛŒØªØ§ Ø¯Ø± Ù‡Ø± Ù„Ø­Ø¸Ù‡ Ø¨Ø¯ÙˆÙ† overhead
```

### Ù…ÙˆØ§Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡:

- ğŸ’¬ Ú†Øª Ùˆ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†â€ŒÙ‡Ø§
- ğŸ”” Ø³ÛŒØ³ØªÙ… Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Real-Time
- ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ (Live Dashboard)
- ğŸ® Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú†Ù†Ø¯ Ù†ÙØ±Ù‡
- ğŸ“ˆ Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Ùˆ Ø¨ÙˆØ±Ø³
- ğŸ¤ Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Collaborative (Ù…Ø«Ù„ Google Docs)
- ğŸš— Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ (GPS Tracking)

---

## âœ¨ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© **Ù‚Ø§Ù„Ø¨ Ø¢Ù…Ø§Ø¯Ù‡ Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ** Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± Ø¨Ø§ WebSocket Ø§Ø³Øª Ú©Ù‡ Ø´Ø§Ù…Ù„:

### ğŸ¯ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:

- âœ… **Auto-Reconnect Ù‡ÙˆØ´Ù…Ù†Ø¯** Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Exponential Backoff
- âœ… **Heartbeat/Ping-Pong** Ø¨Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ù‚Ø·Ø¹ÛŒ Ø§ØªØµØ§Ù„
- âœ… **State Management** Ø¨Ø§ React Hooks
- âœ… **Error Handling** Ú©Ø§Ù…Ù„ Ùˆ logging Ø¬Ø§Ù…Ø¹
- âœ… **Type-Safe** Ùˆ Ù‚Ø§Ø¨Ù„ ØªÙˆØ³Ø¹Ù‡
- âœ… **Production-Ready** Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø­ÛŒØ·ÛŒ
- âœ… **CORS** Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒâ€ŒØ´Ø¯Ù‡
- âœ… **Clean Code** Ùˆ Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„

### ğŸ› ï¸ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡:

**Frontend:**
- React 18+ (Ø¨Ø§ Hooks)
- Vite (Ø¨ÛŒÙ„Ø¯ Ø³Ø±ÛŒØ¹)
- WebSocket API (Native)

**Backend:**
- FastAPI (Python 3.8+)
- uvicorn (ASGI Server)
- python-dotenv (Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ÛŒØ·)

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ…

### Ù†Ù…ÙˆØ¯Ø§Ø± Ø§Ø±ØªØ¨Ø§Ø·:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Browser                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  App.jsx (React Component)                           â”‚   â”‚
â”‚  â”‚  - UI Rendering                                       â”‚   â”‚
â”‚  â”‚  - State Management                                   â”‚   â”‚
â”‚  â”‚  - Event Handling                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚ import                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ws.js (WebSocket Manager)                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Connection Management                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Auto-Reconnect (Exponential Backoff)         â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Heartbeat (Ping/Pong every 5s)               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Event System (open/message/close/error)      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Listeners Management                         â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ WebSocket Protocol
                      â”‚ ws://localhost:8001/ws
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI Server                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  main.py (WebSocket Endpoint)                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ @app.websocket("/ws")                          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Accept Connection                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Send Welcome Message                         â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Handle Ping â†’ Send Pong                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Echo User Messages                           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Error Handling                               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â€¢ CORS Middleware (Cross-Origin)                            â”‚
â”‚  â€¢ Environment Variables (.env)                              â”‚
â”‚  â€¢ Uvicorn ASGI Server                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø¬Ø±ÛŒØ§Ù† Ø§ØªØµØ§Ù„ (Connection Flow):

```
1ï¸âƒ£ Initial Connection:
   Browser â†’ ws://localhost:8001/ws
   Server  â†’ Accept + Send Welcome Message

2ï¸âƒ£ Heartbeat (Ù‡Ø± 5 Ø«Ø§Ù†ÛŒÙ‡):
   Client â†’ {"type": "ping", "ts": 1234567890}
   Server â†’ {"type": "pong", "ts": 1234567890}
   
   Ø§Ú¯Ø± Pong Ù†Ø±Ø³Ø¯ â†’ Close + Auto-Reconnect

3ï¸âƒ£ User Message:
   Client â†’ {"type": "text", "data": "Ø³Ù„Ø§Ù…"}
   Server â†’ {"type": "text", "data": "Ø³Ù„Ø§Ù…"} (Echo)

4ï¸âƒ£ Disconnection:
   Close Event â†’ Stop Heartbeat
   Attempt #1 â†’ Wait 500ms   â†’ Reconnect
   Attempt #2 â†’ Wait 1000ms  â†’ Reconnect
   Attempt #3 â†’ Wait 2000ms  â†’ Reconnect
   ...
   Attempt #6 â†’ Wait 4000ms  â†’ Give Up
```

---

## ğŸš€ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

### Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§:

- **Node.js** 18+ 
- **Python** 3.8+
- **npm** ÛŒØ§ **yarn**

### Ù…Ø±Ø­Ù„Ù‡ 1ï¸âƒ£: Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡

```bash
git clone https://github.com/EsanRahimi/websocket.git
cd websocket
```

### Ù…Ø±Ø­Ù„Ù‡ 2ï¸âƒ£: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Backend (FastAPI)

```bash
# ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾ÙˆØ´Ù‡ backend
cd backend

# Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ÛŒØ· Ù…Ø¬Ø§Ø²ÛŒ
python -m venv venv

# ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· Ù…Ø¬Ø§Ø²ÛŒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# Ù†ØµØ¨ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
pip install -r requirements.txt

# Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ .env
echo "HOST=0.0.0.0
PORT=8001
CORS_ORIGINS=http://localhost:5173
ENVIRONMENT=development" > .env

# Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ±
python main.py
```

Ø³Ø±ÙˆØ± Ø±ÙˆÛŒ `http://localhost:8001` Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### Ù…Ø±Ø­Ù„Ù‡ 3ï¸âƒ£: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Frontend (React)

```bash
# ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾ÙˆØ´Ù‡ frontend (Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¬Ø¯ÛŒØ¯)
cd frontend

# Ù†ØµØ¨ Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
npm install
# ÛŒØ§
yarn install

# Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ .env (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
echo "VITE_WS_URL=ws://localhost:8001/ws" > .env

# Ø§Ø¬Ø±Ø§ÛŒ Dev Server
npm run dev
# ÛŒØ§
yarn dev
```

ÙØ±Ø§Ù†Øª Ø±ÙˆÛŒ `http://localhost:5173` Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### Ù…Ø±Ø­Ù„Ù‡ 4ï¸âƒ£: ØªØ³Øª Ø§ØªØµØ§Ù„

1. Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯: `http://localhost:5173`
2. `F12` Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯ Ùˆ ØªØ¨ **Console** Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯
3. Ø¨Ø§ÛŒØ¯ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯:

```
ğŸ”Œ WS_URL = ws://localhost:8001/ws
[ws] ğŸ”„ connecting...
[ws] âœ… connected
[ws] ğŸ“© message: {"type":"text","data":"ğŸ‘‹ connected"}
App: WebSocket opened
```

4. Ø¯Ø± UI ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§ÛŒØ¯ **âœ… Connected** Ø¨Ø§Ø´Ø¯
5. ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ - Ø¨Ø§ÛŒØ¯ echo Ø¨Ø±Ú¯Ø±Ø¯Ø¯!

---

## ğŸ“ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡

```
websocket/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py              # FastAPI WebSocket Server
â”‚   â”œâ”€â”€ requirements.txt     # Python Dependencies
â”‚   â”œâ”€â”€ .env                 # Environment Variables
â”‚   â””â”€â”€ venv/               # Virtual Environment (git ignored)
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx         # React Main Component
â”‚   â”‚   â”œâ”€â”€ ws.js           # WebSocket Manager
â”‚   â”‚   â”œâ”€â”€ App.css         # Styles
â”‚   â”‚   â””â”€â”€ main.jsx        # Entry Point
â”‚   â”œâ”€â”€ package.json        # Node Dependencies
â”‚   â”œâ”€â”€ vite.config.js      # Vite Configuration
â”‚   â””â”€â”€ .env                # Frontend Environment Variables
â”‚
â”œâ”€â”€ README.md               # Ø§ÛŒÙ† ÙØ§ÛŒÙ„!
â””â”€â”€ LICENSE                 # MIT License
```

---

## ğŸ“– Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙÙ†ÛŒ

### Frontend API (`ws.js`)

#### `connectWS()`
Ø§ØªØµØ§Ù„ Ø¨Ù‡ WebSocket Ø±Ø§ Ø¨Ø±Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```javascript
import { connectWS } from './ws';

connectWS(); // Ø§ØªØµØ§Ù„
```

#### `onWS(event, handler)`
Ù„ÛŒØ³Ù†Ø± Ø¨Ø±Ø§ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ØªØ§Ø¨Ø¹ unsubscribe Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.

**Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§:**
- `open`: ÙˆÙ‚ØªÛŒ Ø§ØªØµØ§Ù„ Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯
- `message`: ÙˆÙ‚ØªÛŒ Ù¾ÛŒØ§Ù… Ø±Ø³ÛŒØ¯
- `close`: ÙˆÙ‚ØªÛŒ Ø§ØªØµØ§Ù„ Ù‚Ø·Ø¹ Ø´Ø¯
- `error`: ÙˆÙ‚ØªÛŒ Ø®Ø·Ø§ Ø±Ø® Ø¯Ø§Ø¯

```javascript
import { onWS } from './ws';

const unsubscribe = onWS('message', (msg) => {
  console.log('Received:', msg);
});

// Ø¨Ø±Ø§ÛŒ Ù„ØºÙˆ:
unsubscribe();
```

#### `sendWS(data)`
Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ø§Ú¯Ø± Ù…ØªØµÙ„ Ø¨Ø§Ø´Ø¯).

```javascript
import { sendWS } from './ws';

sendWS({ type: 'text', data: 'Hello!' });
```

#### `shutdownWS()`
Ø§ØªØµØ§Ù„ Ø±Ø§ Ù‚Ø·Ø¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ heartbeat Ø±Ø§ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```javascript
import { shutdownWS } from './ws';

shutdownWS();
```

---

### Backend API (`main.py`)

#### WebSocket Endpoint: `/ws`

**Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ÛŒ Ø§Ø² Ø³Ø±ÙˆØ±:**

```json
// Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ
{
  "type": "text",
  "data": "ğŸ‘‹ connected"
}

// Ù¾Ø§Ø³Ø® Ø¨Ù‡ ping
{
  "type": "pong",
  "ts": 1234567890
}

// Echo Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
{
  "type": "text",
  "data": "..."
}
```

**Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØªÛŒ:**

```json
// Ping Ø¨Ø±Ø§ÛŒ heartbeat
{
  "type": "ping",
  "ts": 1234567890
}

// Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
{
  "type": "text",
  "data": "Ø³Ù„Ø§Ù…"
}
```

---

## ğŸ’¡ Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø¯Ù‡Ø§

### Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ù†ÙˆØ¹ Ø³ÙØ§Ø±Ø´ÛŒ:

```javascript
// Frontend
sendWS({
  type: 'custom',
  action: 'subscribe',
  channel: 'news'
});
```

```python
# Backend
@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    
    while True:
        data = await websocket.receive_text()
        msg = json.loads(data)
        
        if msg.get("type") == "custom":
            action = msg.get("action")
            if action == "subscribe":
                channel = msg.get("channel")
                # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„
                await websocket.send_text(json.dumps({
                    "type": "subscribed",
                    "channel": channel
                }))
```

### Broadcast Ø¨Ù‡ Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†:

```python
# Backend
connections = set()

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    connections.add(websocket)
    
    try:
        while True:
            data = await websocket.receive_text()
            # Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ù‡Ù…Ù‡
            for conn in connections:
                if conn != websocket:  # Ø¨Ù‡ ØºÛŒØ± Ø§Ø² ÙØ±Ø³ØªÙ†Ø¯Ù‡
                    await conn.send_text(data)
    finally:
        connections.remove(websocket)
```

---

## ğŸ”§ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„: Ø§ØªØµØ§Ù„ Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯

**âœ… Ø±Ø§Ù‡â€ŒØ­Ù„:**
1. Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Backend Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 8001 Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§Ø³Øª:
   ```bash
   curl http://localhost:8001
   ```

2. Ú©Ù†Ø³ÙˆÙ„ Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ Ú†Ú© Ú©Ù†ÛŒØ¯ (`F12`):
   ```
   [ws] âŒ error: ...
   ```

3. CORS Ø±Ø§ Ú†Ú© Ú©Ù†ÛŒØ¯ - Ø¢ÛŒØ§ Frontend Ø§Ø² `localhost:5173` Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ

### Ù…Ø´Ú©Ù„: Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

**âœ… Ø±Ø§Ù‡â€ŒØ­Ù„:**
Ø¯Ø± `App.jsx`ØŒ Ø¨Ù‡ `useEffect` ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø®Ø§Ù„ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:

```javascript
useEffect(() => {
  // ...
}, []); // ğŸ‘ˆ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø®Ø§Ù„ÛŒ = ÙÙ‚Ø· ÛŒÚ©â€ŒØ¨Ø§Ø± Ø§Ø¬Ø±Ø§ Ø´ÙˆØ¯
```

### Ù…Ø´Ú©Ù„: Auto-Reconnect Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**âœ… Ø±Ø§Ù‡â€ŒØ­Ù„:**
Ø¯Ø± `ws.js`ØŒ `MAX_RECONNECT` Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯:

```javascript
const MAX_RECONNECT = 10; // Ø¨Ù‡ Ø¬Ø§ÛŒ 6
```

---

## ğŸ—ºï¸ Roadmap

### Ù†Ø³Ø®Ù‡ Ø¨Ø¹Ø¯ÛŒ (v2.0):

- [ ] **Authentication**: JWT Token Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª
- [ ] **Room System**: Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø§ØªØ§Ù‚â€ŒÙ‡Ø§/Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
- [ ] **Message Queue**: Redis Ø¨Ø±Ø§ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ
- [ ] **Typing Indicator**: Ù†Ø´Ø§Ù†â€ŒØ¯Ø§Ø¯Ù† "Ø¯Ø± Ø­Ø§Ù„ ØªØ§ÛŒÙ¾..."
- [ ] **File Upload**: Ø§Ø±Ø³Ø§Ù„ ÙØ§ÛŒÙ„ Ø§Ø² Ø·Ø±ÛŒÙ‚ WebSocket
- [ ] **Docker**: Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Docker Compose
- [ ] **Tests**: Unit Tests + Integration Tests
- [ ] **Monitoring**: Prometheus + Grafana

---

## ğŸ¤ Ù…Ø´Ø§Ø±Ú©Øª Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ **Open Source** Ø§Ø³Øª Ùˆ Ø§Ø² Ù…Ø´Ø§Ø±Ú©Øª Ø´Ù…Ø§ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…! ğŸ‰

### Ú†Ú¯ÙˆÙ†Ù‡ Ù…Ø´Ø§Ø±Ú©Øª Ú©Ù†ÛŒÙ…ØŸ

1. **Fork** Ú©Ù†ÛŒØ¯
2. ÛŒÚ© **Branch** Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯:
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ **Commit** Ú©Ù†ÛŒØ¯:
   ```bash
   git commit -m "Add amazing feature"
   ```
4. Ø¨Ù‡ Branch Ø®ÙˆØ¯ **Push** Ú©Ù†ÛŒØ¯:
   ```bash
   git push origin feature/amazing-feature
   ```
5. ÛŒÚ© **Pull Request** Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯

### Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ø´Ø§Ø±Ú©Øª:

- Ú©Ø¯ ØªÙ…ÛŒØ² Ùˆ Ø®ÙˆØ§Ù†Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯
- Comment ÙØ§Ø±Ø³ÛŒ ÛŒØ§ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
- Ø§Ø² Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù¾ÛŒØ±ÙˆÛŒ Ú©Ù†ÛŒØ¯
- ØªØ³Øª Ú©Ù†ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² PR

---

## ğŸ“ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ

### Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ

- **GitHub Issues**: https://github.com/EsanRahimi/websocket/issues
- **Email**: EhsanRahimi@Live.com
- **LinkedIn**: https://linkedin.com/in/EsanRahimi

### Ù…Ù†Ø§Ø¨Ø¹ Ø¢Ù…ÙˆØ²Ø´ÛŒ:

- [Ù…Ø³ØªÙ†Ø¯Ø§Øª FastAPI](https://fastapi.tiangolo.com)
- [Ù…Ø³ØªÙ†Ø¯Ø§Øª WebSocket MDN](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)
- [Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ React Hooks](https://react.dev/reference/react)

---

## ğŸ“„ Ù„Ø§ÛŒØ³Ù†Ø³

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ØªØ­Øª Ù„Ø§ÛŒØ³Ù†Ø³ **MIT** Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª - Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± ÙØ§ÛŒÙ„ [LICENSE](LICENSE).

```
MIT License - Ø¢Ø²Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ ØªØ¬Ø§Ø±ÛŒØŒ ØªØºÛŒÛŒØ± Ùˆ ØªÙˆØ²ÛŒØ¹
```

---

## â­ Ø­Ù…Ø§ÛŒØª Ø§Ø² Ù¾Ø±ÙˆÚ˜Ù‡

Ø§Ú¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù…ÙÛŒØ¯ Ø¨ÙˆØ¯:

- â­ ÛŒÚ© **Star** Ø¨Ø¯Ù‡ÛŒØ¯
- ğŸ´ **Fork** Ú©Ù†ÛŒØ¯
- ğŸ› **Issue** Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯
- ğŸ’¬ **Share** Ú©Ù†ÛŒØ¯

---

<div align="center">

**Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§ÛŒØ±Ø§Ù†ÛŒ**

[â¬† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§](#-websocket-template---react--fastapi)

</div>